"use strict";(self.webpackChunkportfolio_v2=self.webpackChunkportfolio_v2||[]).push([[701],{6064:(n,o,t)=>{t.r(o),t.d(o,{default:()=>v});var e=t(8381),i=t(7174),s=t(7011),a=(t(4452),t(9061)),d=t(6564),c=t(1877),h=t.n(c),r=t(9362),l=t(5980),p=t(5789);class w{constructor(n){this.scene=n.scene,this.cannonWorld=n.cannonWorld,this.moving=!1,this.width=n.width,this.height=n.height,this.depth=n.depth,this.x=n.x,this.y=n.y||.3,this.z=n.z,n.gltfLoader.load(l,(o=>{o.scene.traverse((n=>{n.isMesh&&(n.castShadow=!0)})),this.modelMesh=o.scene.children[0],this.modelMesh.name="mine",n.scene.add(this.modelMesh),n.meshes.push(this.modelMesh),this.actions=[],this.mixer=new d.Xcj(this.modelMesh),this.actions[0]=this.mixer.clipAction(o.animations[0]),this.actions[1]=this.mixer.clipAction(o.animations[6]),this.actions[0].play(),this.setCannonBody()}))}setCannonBody(){const n=new p.xu(new p.AO(1,1,1));this.cannonBody=new p.uT({mass:0,position:new p.AO(this.x,this.y,this.z),shape:n}),this.modelMesh.cannonBody=this.cannonBody,this.cannonWorld.addBody(this.cannonBody)}}const m=t.p+"static/media/roket_portfolio.7f14d8dc7f2a7dafe95c.glb";class u{constructor(n){this.x=n.x,this.y=n.y,this.z=n.z,this.visible=!1,n.gltfLoader.load(m,(o=>{this.modelMesh=o.scene.children[0],this.modelMesh.castShadow=!0,this.modelMesh.position.set(this.x,this.y,this.z),n.scene.add(this.modelMesh)}))}}const x=t.p+"static/media/gradient.95b0ff00310729560d84.jpg",y=t.p+"static/media/ball.b926970513c700e5fc68.png";const b=function(){const n=new d.dpR,o=n.load(x),t=n.load(y),e=document.querySelector("#three-canvas"),i=new d.CP7({canvas:e,alpha:!0,antialias:!0});i.setSize(window.innerWidth,window.innerHeight),i.setPixelRatio(window.devicePixelRatio>1?2:1),i.shadowMap.enabled=!0,i.shadowMap.type=d.ntZ;const a=new d.xsS,c=new d.iKG(-window.innerWidth/window.innerHeight,window.innerWidth/window.innerHeight,1,-1,-1e3,1e3),l=new d.Pa4(1,3,5);c.position.set(l.x,l.y,l.z),c.zoom=.22,c.updateProjectionMatrix(),a.add(c);const m=new d.Mig("white",1.5);a.add(m);const b=new d.Ox3("white",2),M=new d.Pa4(1,1,1);b.position.x=M.x,b.position.y=M.y,b.position.z=M.z,b.castShadow=!0,b.shadow.mapSize.width=2048,b.shadow.mapSize.height=2048,b.shadow.camera.left=-100,b.shadow.camera.right=100,b.shadow.camera.top=100,b.shadow.camera.bottom=-100,b.shadow.camera.near=-100,b.shadow.camera.far=100,a.add(b);const v=new p.q3;v.gravity.set(0,-9.8,0),v.broadphase=new p.BQ(v);const f=new p.F5("default"),g=new p.F5("rubber"),z=new p.kp(f,f,{friction:.01,restitution:.01});v.defaultContactMaterial=z;const j=new p.kp(g,f,{friction:.02,restitution:.2});v.addContactMaterial(j);const B=new p.JO,P=new p.uT({mass:0,position:new p.AO(0,0,0),shape:B,material:f});P.quaternion.setFromAxisAngle(new p.AO(-1,0,0),Math.PI/2),v.addBody(P);const k=new p.aL(.3),A=new p.uT({mass:3,position:new p.AO(2,10,2),shape:k,material:g});A.quaternion.setFromAxisAngle(new p.AO(0,0,0),Math.PI/2),v.addBody(A);const C=[],S=new d.Kj0(new d._12(40,40),new d.Wid({map:o}));S.name="floor",S.rotation.x=-Math.PI/2,S.receiveShadow=!0,a.add(S),C.push(S);const W=new d.Kj0(new d._12(.8,.8),new d.vBJ({color:"crimson",transparent:!0,opacity:.3}));W.rotation.x=-Math.PI/2,W.position.y=.01,W.receiveShadow=!0,a.add(W);const L=new d.Kj0(new d._12(5,5),new d.Wid({color:"yellow",transparent:!0,opacity:0}));L.position.set(9.35,.005,9.35),L.rotation.x=-Math.PI/2,L.receiveShadow=!0,a.add(L);const Z=new r.E,O=new u({gltfLoader:Z,scene:a,x:9.35,y:-.15,z:8.5}),E=new w({scene:a,cannonWorld:v,meshes:C,gltfLoader:Z,material:f}),_=new d.xo$(.3),I=new d.Wid({map:t}),F=new d.Kj0(_,I);F.rotation.x=-Math.PI/2,F.castShadow=!0,a.add(F);const H=new d.iMs;let N=new d.FM8,q=new d.Pa4,K=0,R=!1;const T=new d.SUY;function U(n){N.x=n.clientX/e.clientWidth*2-1,N.y=-(n.clientY/e.clientHeight*2-1)}window.addEventListener("resize",(function(){c.left=-window.innerWidth/window.innerHeight,c.right=window.innerWidth/window.innerHeight,c.top=1,c.bottom=-1,c.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight),i.render(a,c)})),e.addEventListener("mousedown",(n=>{R=!0,U(n)})),e.addEventListener("mouseup",(()=>{R=!1})),e.addEventListener("mousemove",(n=>{R&&U(n)})),e.addEventListener("touchstart",(n=>{R=!0,U(n.touches[0])})),e.addEventListener("touchend",(()=>{R=!1})),e.addEventListener("touchmove",(n=>{R&&U(n.touches[0])})),h()(document).on("click",".btn-reset",(function(){E.cannonBody.position.set(-.05,.3,-.2),E.modelMesh.rotation.y=0,q.set(0,.3,0),c.position.set(1,3,5),W.position.set(-.05,.1,.2),A.position.set(2,2,2),A.angularVelocity.set(0,0,0),A.velocity.set(0,0,0),O.visible=!1,L.material.color.set("yellow"),s.ZP.to(O.modelMesh.position,{duration:.5,y:-.15}),h()(".btn-view").hide()})),h()(document).on("click","#btn-menu",(function(){h()(this).hasClass("open")?s.ZP.to(c,{duration:1,zoom:.44,onUpdate:function(){c.updateProjectionMatrix()}}):s.ZP.to(c,{duration:1,zoom:.22,onUpdate:function(){c.updateProjectionMatrix()}})})),function n(){const o=T.getDelta();let t=1/60;o<.01&&(t=1/120),v.step(t,o,3),S.position.copy(P.position),F.position.copy(A.position),F.quaternion.copy(A.quaternion),E.cannonBody&&E.modelMesh.position.copy(E.cannonBody.position),E.mixer&&E.mixer.update(o),E.modelMesh&&c.lookAt(E.modelMesh.position),E.modelMesh&&(R&&(H.setFromCamera(N,c),function(){const n=H.intersectObjects(C);for(const o of n){"floor"===o.object.name&&(q.x=o.point.x,q.y=.3,q.z=o.point.z,E.modelMesh.lookAt(q),E.moving=!0,W.position.x=q.x,W.position.z=q.z);break}}()),E.moving?(K=Math.atan2(q.z-E.cannonBody.position.z,q.x-E.cannonBody.position.x),E.cannonBody.position.x+=.05*Math.cos(K),E.cannonBody.position.z+=.05*Math.sin(K),c.position.x=l.x+E.cannonBody.position.x,c.position.z=l.z+E.cannonBody.position.z,E.actions[1].play(),E.actions[0].stop(),Math.abs(q.x-E.cannonBody.position.x)<.03&&Math.abs(q.z-E.cannonBody.position.z)<.03&&(E.moving=!1),Math.abs(L.position.x-E.cannonBody.position.x)<2&&Math.abs(L.position.z-E.cannonBody.position.z)<2?O.visible||(O.visible=!0,s.ZP.to(O.modelMesh.position,{duration:1.5,y:5,ease:"expo.in"}),s.ZP.to(c.position,{duration:1,y:3}),h()(".btn-view").fadeIn(300)):O.visible&&(O.visible=!1,s.ZP.to(O.modelMesh.position,{duration:1.5,y:-.15}),s.ZP.to(c.position,{duration:1,y:3}),h()(".btn-view").fadeOut(300))):(E.actions[0].play(),E.actions[1].stop()),Math.abs(A.position.x)>0&&Math.abs(A.position.y)<.3&&(Math.abs(A.position.x-E.cannonBody.position.x)>2.5||Math.abs(A.position.z-E.cannonBody.position.z)>2.5)&&(s.ZP.to(A.angularVelocity,{duration:1,x:0,y:0,z:0}),s.ZP.to(A.velocity,{duration:.5,x:0,y:0,z:0}))),i.render(a,c),i.setAnimationLoop(n)}(),h()(document).on("click",".btn-guide",(function(){h()("#guide").hide(),h()("#music_chk").is(":checked")?(document.getElementById("myAudio").play(),h()(".btn-music").text("\ub178\ub798 \uba48\ucda4").removeClass("pause").addClass("play")):h()(".btn-music").text("\ub178\ub798 \uc7ac\uc0dd").removeClass("play").addClass("pause")}))};var M=t(9343);const v=n=>{const o=(0,e.useRef)();return(0,e.useEffect)((()=>{b()}),[]),(0,M.jsxs)(a.Z,{header:!0,children:[(0,M.jsx)("canvas",{id:"three-canvas"}),(0,M.jsxs)("div",{id:"guide",children:[(0,M.jsxs)("div",{ref:o,className:"guide-text",children:[(0,M.jsxs)("p",{children:["\ud654\uba74\uc744 ",(0,M.jsx)("em",{children:"\uafb8~\uc6b1"})," \ub20c\ub7ec",(0,M.jsx)("br",{}),"\ubc14\ub2e5\uc758 ",(0,M.jsx)("b",{children:"\ud654\uc0b4\ud45c"}),"\ub97c \ub530\ub77c\uac00",(0,M.jsx)("br",{}),"\uc774\ub3d9\ud574\ubcf4\uc138\uc694!"]}),(0,M.jsxs)("div",{className:"check-group",children:[(0,M.jsx)("input",{type:"checkbox",id:"music_chk"}),(0,M.jsx)("label",{htmlFor:"music_chk",children:"Play Music"})]}),(0,M.jsx)("p",{children:"* \uccb4\ud06c\ud558\uace0 \uc2dc\uc791\ud558\uba74 \ub178\ub798(BGM)\uac00 \uc7ac\uc0dd\ub3fc\uc694."}),(0,M.jsx)("button",{type:"button",className:"btn-guide",children:"START"})]}),(0,M.jsx)("div",{className:"dim",onClick:()=>{var n;n=o.current,s.ZP.to(n,{x:10,duration:.1,yoyo:!0,repeat:7,ease:"power1.inOut",onComplete:()=>s.ZP.set(n,{x:0})})}})]}),(0,M.jsx)("div",{className:"btn-view",children:(0,M.jsx)(i.rU,{to:"/project",children:"\uc6b0\uc8fc\uc120 \ud0c0\uace0 \uc774\ub3d9 \ud83d\ude80"})}),(0,M.jsx)("div",{className:"floating-wrap",children:(0,M.jsx)("button",{type:"button",className:"btn-reset",children:"\uc0c8\ub85c\uace0\uce68"})})]})}},5980:(n,o,t)=>{n.exports=t.p+"static/media/mine.b3ccb900aed47d5d0934.glb"}}]);
//# sourceMappingURL=701.569be59c.chunk.js.map